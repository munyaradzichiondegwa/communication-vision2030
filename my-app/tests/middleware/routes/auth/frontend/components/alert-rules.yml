// alert-rules.yml
groups:
- name: application
  rules:
  - alert: HighErrorRate
    expr: sum(rate(http_requests_total{status_code=~"5.."}[5m])) / sum(rate(http_requests_total[5m])) > 0.1
    for: 10m
    labels:
      severity: critical
    annotations:
      description: 'High error rate of {{ $value }}%'
      
  - alert: FailedLoginSpike
    expr: rate(auth_failures_total[5m]) > 5
    labels:
      severity: warning
    annotations:
      description: 'Login failure spike detected'